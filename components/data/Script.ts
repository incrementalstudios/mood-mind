type Message = {
  role: "user" | "assistant";
  content: string | ((score?: number) => string);
  checkSentiment?: boolean;
  keywords?: object;
  condition?: (score: number, sequence: number) => number;
};

export const keywords = {
  merasa: -1,
  kosong: -2,
  hampa: -2,
  kehampaan: -2,
  tidak: -1,
  merasakan: -1,
  apa: 0,
  perasaan: 0,
  ada: 0,
  yang: 0,
  peduli: 1,
  diabaikan: -2,
  kesepian: -2,
  sendirian: -2,
  diperhatikan: 1,
  semua: 0,
  terasa: 0,
  berat: -1,
  tertekan: -2,
  terbebani: -2,
  penuh: -1,
  tekanan: -2,
  hidup: 0,
  punya: 0,
  energi: 1,
  untuk: 0,
  melakukan: 0,
  apapun: 0,
  kehabisan: -2,
  tenaga: 0,
  terlalu: -1,
  lelah: -2,
  bergerak: 0,
  motivasi: 1,
  dorongan: 1,
  kenapa: 0,
  begitu: 0,
  sulit: -1,
  tantangan: -1,
  semuanya: 0,
  rumit: -1,
  seperti: 0,
  beban: -2,
  tahu: 0,
  haru: 0,
  berbuat: 0,
  bingung: -1,
  kehilangan: -2,
  arah: 0,
  terombang: -1,
  amb: -1,
  jalan: 0,
  keluar: 0,
  terjebak: -2,
  pilihan: 0,
  terkungkung: -2,
  dalam: 0,
  masalah: -2,
  terperangkap: -2,
  saya: 0,
  hanya: 0,
  ingin: 0,
  berhenti: -1,
  berpikir: 0,
  memikirkan: 0,
  suram: -2,
  kelam: -2,
  cahaya: 2,
  masa: 0,
  depan: 0,
  harapan: 2,
  pudar: -2,
  teras: 0,
  dari: 0,
  diriku: 0,
  sendiri: -1,
  mengenali: 1,
  diri: 0,
  jati: 0,
  teralienasi: -2,
  rasanya: -1,
  artinya: 0,
  berarti: 0,
  berguna: 1,
  tanpa: -1,
  tujuan: 0,
  bisa: 0,
  ini: 0,
  emosi: 0,
  helpless: -2,
  berdaya: 1,
  mampu: 1,
  tak: 0,
  lemah: -2,
  hopeless: -3,
  putu: 0,
  patah: -2,
  semangat: 2,
  worthless: -3,
  berharga: 2,
  rendah: -1,
  asa: -2,
  frustrasi: -2,
  kecewa: -2,
  hati: 0,
  menyerah: -3,
  pasrah: -2,
  mencoba: 1,
  lagi: 0,
  berjuang: 2,
  gagal: -2,
  berhasil: 2,
  kalah: -2,
  rasa: 0,
  kekalahan: -2,
  kegelapan: -2,
  dikelilingi: -1,
  oleh: 0,
  keputusasaan: -3,
  sirna: -2,
  melihat: 0,
  arti: 0,
  hilang: -2,
  kepala: 0,
  pikiran: 0,
  overthink: -2,
  menarik: 1,
  dunia: 0,
  menutup: -1,
  mengisolasi: -2,
  menghindari: -1,
  terasingkan: -2,
  terpinggirkan: -2,
  diterima: 1,
  kesendirian: -2,
  mendalam: 0,
  secara: 0,
  emosion: 0,
  kelelahan: -2,
  batin: 0,
  capek: -2,
  menghadapi: -1,
  segalanya: 0,
  bagaikan: 0,
  berjalan: 0,
  kabut: -1,
  samar: -1,
  gunanya: 0,
  sia: 0,
  mencari: 0,
  alasan: 0,
  teru: 0,
  bertahan: 1,
  tetap: 0,
  makna: 0,
  bosan: -2,
  jenuh: -2,
  muak: -2,
  dengan: 0,
  meskipun: 0,
  orang: 0,
  di: 0,
  keramaian: 0,
  tengah: 0,
  banyak: 0,
  banget: 0,
  gak: 0,
  ngerasa: -1,
  bener: 0,
  isi: 0,
  mati: -3,
  dilupakan: -2,
  nobodi: -2,
  care: 1,
  kuat: 1,
  makin: 0,
  susah: -2,
  male: 0,
  gerak: 0,
  udah: 0,
  ngapa: 0,
  ngapain: 0,
  demotivasi: -2,
  ribet: -2,
  tau: 0,
  gimana: 0,
  kemana: 0,
  mana: 0,
  kayak: 0,
  tempat: 0,
  mentok: -2,
  mau: 0,
  mikir: 0,
  cape: -2,
  deh: 0,
  gelap: -2,
  jadi: 0,
  lain: 0,
  kenal: 0,
  guna: 0,
  useless: -2,
  nilainya: 0,
  pent: 0,
  nyerah: -3,
  total: 0,
  lihat: 0,
  kebanyakan: 0,
  otak: 0,
  diem: 0,
  ketemu: 1,
  arahnya: 0,
  faedahnya: 0,
  sebisanya: 0,
  sama: 0,
  seru: 1,
  nyambung: 1,
  tertarik: 1,
  kurang: -1,
  berminat: 1,
  minat: 0,
  gairah: 1,
  itu: 0,
  senang: 2,
  kebahagiaan: 2,
  kesenangan: 1,
  membosankan: -2,
  segala: 0,
  hal: 0,
  monoton: -1,
  sepertinya: 0,
  dilakukan: 0,
  kegiatan: 0,
  menyenangkan: 2,
  bertindak: 0,
  acuh: -2,
  bodoh: -3,
  perhatian: 1,
  ke: 0,
  lebih: 0,
  suka: 0,
  menyendiri: -1,
  lingkungan: 0,
  bersosialisasi: 1,
  emosian: -2,
  sangat: 0,
  letih: -1,
  bersemangat: 2,
  lesu: -2,
  keinginan: 0,
  ambisi: 1,
  hasrat: 1,
  kemauan: 0,
  tekad: 0,
  niat: 0,
  nggak: -1,
  buat: 0,
  ngebosenin: -2,
  kayaknya: 0,
  dikerjain: 0,
  milih: 0,
  aja: 0,
  mikirin: 0,
  sekali: 0,
  beneran: 0,
  cuma: 0,
  pengen: 0,
  dan: 0,
  excit: 1,
  robot: 0,
  tapi: 0,
  flat: -1,
  ngelakuin: 0,
  stuck: -2,
  tidur: 0,
  bikin: 0,
  nyaman: 1,
  ngerti: 0,
  perasaanku: 0,
  ngelamun: 0,
  keadaan: 0,
  nemu: 0,
  maju: 0,
  menghindar: -1,
  daripada: 0,
  hadapi: 0,
  ngedrift: -1,
  berasa: 0,
  takut: -2,
  sakit: -2,
  nyeri: -2,
  bunuh: -2,
  marah: -2,
  "merasa kosong": -2,
  "tidak merasakan apa-apa": -2,
  "perasaan hampa": -2,
  "tidak ada yang peduli": -2,
  "tidak diperhatikan": -2,
  "semua terasa berat": -2,
  "penuh tekanan": -3,
  "hidup terasa berat": -3,
  "tidak punya energi untuk melakukan apapun": -3,
  "kehabisan tenaga": -3,
  "terlalu lelah untuk bergerak": -3,
  "tidak ada motivasi": -3,
  "kehilangan arah": -3,
  "terombang-ambing": -3,
  "putus harapan": -3,
  "patah semangat": -3,
  "hidup terasa kosong": -3,
  "tidak ada arti dalam hidup": -3,
  "lelah secara emosional": -3,
  "terlalu capek menghadapi segalanya": -3,
  "hidup yang samar": -3,
  "mencari alasan untuk terus bertahan": -1,
  "berjuang untuk tetap hidup": -1,
  "sendirian di tengah orang banyak": -3,
  "kesepian di keramaian": -3,
  "lelah dengan segalanya": -3,
  "merasa terasingkan": -3,
  "kehilangan diri sendiri": -3,
};

const keywordsYesOrNo = {
  bukan: 1,
  tiada: 1,
  tak: 1,
  enggak: 1,
  nggak: 1,
  kagak: 1,
  engga: 1,
  ngga: 1,
  kaga: 1,
  ga: 1,
  tidak: 1,
  tida: 1,
  iya: -1,
  ya: -1,
  baik: -1,
  benar: -1,
  betul: -1,
  sip: -1,
  oke: -1,
  setuju: -1,
  memang: -1,
  tentu: -1,
  pastinya: -1,
};

export const SCRIPT: Message[] = [
  {
    role: "assistant" as const,
    content: () => "Dalam 2 minggu terakhir, bagaimana perasaan Anda ?",
    checkSentiment: true,
    keywords: keywords,
  },
  {
    role: "assistant" as const,
    content: "Dalam 2 minggu terakhir, bagaimana minat atau semangat Anda?",
    checkSentiment: true,
    keywords: keywords,
    condition: (score: number, sequence: number) => {
      if (score > 0) {
        return sequence + 1;
      } else {
        return SCRIPT.length - 1;
      }
    },
  },
  {
    role: "assistant" as const,
    content:
      "Dalam 2 minggu terakhir, apakah Anda mengalami perubahan berat badan/ nafsu makan? Silakan menjawab Ya atau Tidak",
    keywords: keywordsYesOrNo,
  },
  {
    role: "assistant" as const,
    content:
      "Dalam 2 minggu terakhir, apakah Anda mengalami sulit tidur atau tidur berlebihan? Silakan menjawab Ya atau Tidak",
    keywords: keywordsYesOrNo,
  },
  {
    role: "assistant" as const,
    content:
      "Dalam 2 minggu terakhir, apakah Anda merasa cemas atau pergerakan Anda lebih lambat? Silakan menjawab Ya atau Tidak",
    keywords: keywordsYesOrNo,
  },
  {
    role: "assistant" as const,
    content:
      "Dalam 2 minggu terakhir, apakah Anda merasa lelah atau kehilangan energi? Silakan menjawab Ya atau Tidak",
    keywords: keywordsYesOrNo,
  },
  {
    role: "assistant" as const,
    content:
      "Dalam 2 minggu terakhir, apakah Anda merasa tidak berguna atau merasa bersalah? Silakan menjawab Ya atau Tidak",
    keywords: keywordsYesOrNo,
  },
  {
    role: "assistant" as const,
    content:
      "Dalam 2 minggu terakhir, apakah Anda berpikir ulang tentang kematian atau menyakiti diri sendiri? Silakan menjawab Ya atau Tidak",
    keywords: keywordsYesOrNo,
    condition: (score: number, sequence: number) => {
      if (score >= 5) {
        return sequence + 1;
      } else {
        return SCRIPT.length - 1;
      }
    },
  },
  {
    role: "assistant" as const,
    content: "Apakah kondisi yang Anda rasakan masih bisa diatasi?",
    keywords: keywords,
  },
  {
    role: "assistant" as const,
    content:
      "Apakah kondisi yang Anda rasakan mengganggu kehidupan sosial atau pekerjaan Anda?",
    keywords: keywords,
  },
  {
    role: "assistant" as const,
    content: (score: number) => {
      const result =
        score < 0
          ? "Tidak Depresi"
          : score >= 5
          ? "Suspek Depresi"
          : "Beresiko Depresi";
      return `Hasil Dari Test Anda: ${result}`;
    },
  },
];
